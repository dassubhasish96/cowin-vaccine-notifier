(this["webpackJsonpcowin-notification-frontend"]=this["webpackJsonpcowin-notification-frontend"]||[]).push([[0],{168:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var i=a(3),n=a.n(i),c=a(16),s=a.n(c),r=(a(59),a(60),a(176)),l=a(177),d=a(178),o=a(2);var j=function(e){return Object(o.jsx)(i.Fragment,{children:Object(o.jsx)("img",{src:"https://www.cowin.gov.in/assets/images/largest-vaccine-banner.jpg",alt:"Girl in a jacket"})})};var h=function(e){return Object(o.jsxs)(i.Fragment,{children:[Object(o.jsx)("hr",{}),Object(o.jsx)("small",{children:"\xa9 Designed by Subhasish"})]})},b=a(13),O=a(5),m=a(48),u=a(49),g=a(53),x=a(52),p=a(170),f=a(171),v=a(179),y=a(172),S=a(173),A=a(174),D=a(175),w=a(51),C=a(50),L=a.n(C),k=(a(80),function(e){Object(g.a)(a,e);var t=Object(x.a)(a);function a(e){var i;return Object(m.a)(this,a),(i=t.call(this,e)).indianStates={myarray:["Andaman And Nicobar Islands","Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chandigarh","Chhattisgarh","Dadra And Nagar Haveli","Delhi","Goa","Gujarat","Haryana","Himachal Pradesh","Jammu And Kashmir","Jharkhand","Karnataka","Kerala","Ladakh","Lakshadweep","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Puducherry","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Daman And Diu"]},i.getInitialState=function(){return{data:{notificationType:"p",pincode:"",email:"",minAgeLimit:"YO",district:[],selectedState:"-1",selectedDistrict:"-1",selectedDistrictName:"-1",alertSuccess:!1,alertFailure:!1},errors:{}}},i.handleChange=function(e){i.setState({data:Object(O.a)(Object(O.a)({},i.state.data),{},Object(b.a)({},e.target.name,e.target.value)),errors:Object(O.a)(Object(O.a)({},i.state.errors),{},Object(b.a)({},e.target.name,""))})},i.closeSuccessAlert=function(e){i.setState({data:Object(O.a)(Object(O.a)({},i.state.data),{},{alertSuccess:!1}),errors:Object(O.a)({},i.state.errors)})},i.closeFailureAlert=function(e){i.setState({data:Object(O.a)(Object(O.a)({},i.state.data),{},{alertFailure:!1}),errors:Object(O.a)(Object(O.a)({},i.state.errors),{},Object(b.a)({},e.target.name,""))})},i.handleStateDropdown=function(e){var t=e.target.value;fetch("https://cdn-api.co-vin.in/api/v2/admin/location/districts/"+t).then((function(e){e.json().then((function(e){i.setState({data:Object(O.a)(Object(O.a)({},i.state.data),{},{district:e.districts,selectedState:t,selectedDistrict:"-1"}),errors:Object(O.a)(Object(O.a)({},i.state.errors),{},{selectedState:""})})}))}))},i.handleDistrictDropdown=function(e){var t=e.nativeEvent.target.selectedIndex;i.setState({data:Object(O.a)(Object(O.a)({},i.state.data),{},{selectedDistrict:e.target.value,selectedDistrictName:e.nativeEvent.target[t].text}),errors:Object(O.a)(Object(O.a)({},i.state.errors),{},{selectedDistrict:""})})},i.validate=function(){var e=i.state.data,t={};"p"===e.notificationType?(new RegExp("^[1-9][0-9]{5}$").test(e.pincode)||(t.pincode="Pincode must be valid"),""===e.pincode&&(t.pincode="Pincode can not be blank")):("-1"===e.selectedState&&(t.selectedState="Please select state"),"-1"===e.selectedDistrict&&(t.selectedDistrict="Please select district"));return Object(w.isEmail)(e.email)||(t.email="Email must be valid"),""===e.email&&(t.email="Email can not be blank"),t},i.handleSubmit=function(e){e.preventDefault();var t=i.state.data,a=i.validate();if(0===Object.keys(a).length){var n;n="p"===t.notificationType?{notificationType:"p",data:t.pincode,email:t.email,minAgeLimit:t.minAgeLimit,distName:""}:{notificationType:"d",data:t.selectedDistrict,email:t.email,minAgeLimit:t.minAgeLimit,distName:t.selectedDistrictName},console.log(n),L.a.post("http://localhost:9090/notification",n).then((function(e){console.log(e.data.success),e.data.success?i.setState({data:Object(O.a)(Object(O.a)({},i.state.data),{},{alertSuccess:!0}),errors:Object(O.a)({},i.state.errors)}):i.setState({data:Object(O.a)(Object(O.a)({},i.state.data),{},{alertFailure:!0}),errors:Object(O.a)({},i.state.errors)})})).catch((function(e){i.setState({data:Object(O.a)(Object(O.a)({},i.state.data),{},{alertFailure:!0}),errors:Object(O.a)({},i.state.errors)})})),i.setState(i.getInitialState())}else i.setState({errors:a})},i.state=i.getInitialState(),i}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.data,a=e.errors;return Object(o.jsx)("div",{children:Object(o.jsxs)(p.a,{onSubmit:this.handleSubmit,children:[Object(o.jsxs)(f.a,{children:[Object(o.jsx)(v.a,{color:"success",isOpen:t.alertSuccess,toggle:this.closeSuccessAlert,children:"Notification added successfully !!"}),Object(o.jsx)(v.a,{color:"danger",isOpen:t.alertFailure,toggle:this.closeFailureAlert,children:"Some error occured, please try after some time !!"})]}),Object(o.jsx)(f.a,{children:Object(o.jsxs)("div",{class:"toggle-radio","data-color":"blue",children:[Object(o.jsx)("input",{type:"radio",value:"p",checked:"p"===t.notificationType,name:"notificationType",id:"notificationTypeP",onChange:this.handleChange}),Object(o.jsx)("label",{for:"notificationTypeP",children:"Notify by pincode"}),Object(o.jsx)("input",{type:"radio",value:"d",checked:"d"===t.notificationType,name:"notificationType",id:"notificationTypeD",onChange:this.handleChange}),Object(o.jsx)("label",{for:"notificationTypeD",children:"Notify by district"})]})}),"p"===t.notificationType?Object(o.jsx)("div",{children:Object(o.jsxs)(f.a,{children:[Object(o.jsx)(y.a,{for:"pincode",children:Object(o.jsx)("b",{children:"Pincode"})}),Object(o.jsx)(S.a,{id:"pincode",value:t.pincode,invalid:!!a.pincode,name:"pincode",onChange:this.handleChange}),Object(o.jsx)(A.a,{children:a.pincode})]})}):Object(o.jsxs)("div",{children:[Object(o.jsxs)(f.a,{children:[Object(o.jsx)(y.a,{for:"selectedState",children:Object(o.jsx)("b",{children:"State"})}),Object(o.jsxs)(S.a,{type:"select",onChange:this.handleStateDropdown,invalid:!!a.selectedState,name:"selectedState",children:[Object(o.jsx)("option",{disabled:!0,selected:"-1"===t.selectedState,children:"Select State"}),this.indianStates.myarray.map((function(e,t){return Object(o.jsx)("option",{value:t+1,children:e})}))]}),Object(o.jsx)(A.a,{children:a.selectedState})]}),Object(o.jsxs)(f.a,{children:[Object(o.jsx)(y.a,{for:"selectedDistrict",children:Object(o.jsx)("b",{children:"District"})}),Object(o.jsxs)(S.a,{type:"select",onChange:this.handleDistrictDropdown,invalid:!!a.selectedDistrict,name:"selectedDistrict",children:[Object(o.jsx)("option",{disabled:!0,selected:"-1"===t.selectedDistrict,children:"Select District"}),this.state.data.district.map((function(e){return Object(o.jsxs)("option",{value:e.district_id,children:[" ",e.district_name]})}))]}),Object(o.jsx)(A.a,{children:a.selectedDistrict})]})]}),Object(o.jsxs)(f.a,{children:[Object(o.jsx)(y.a,{for:"email",children:Object(o.jsx)("b",{children:"Email"})}),Object(o.jsx)(S.a,{id:"email",value:t.email,invalid:!!a.email,name:"email",onChange:this.handleChange}),Object(o.jsx)(A.a,{children:a.email})]}),Object(o.jsx)(f.a,{children:Object(o.jsx)(y.a,{for:"minAgeLimit",children:Object(o.jsx)("b",{children:"Age"})})}),Object(o.jsx)(f.a,{children:Object(o.jsxs)("div",{class:"toggle-radio","data-color":"blue",children:[Object(o.jsx)(S.a,{type:"radio",value:"YO",checked:"YO"===t.minAgeLimit,name:"minAgeLimit",id:"minAgeLimitYO",onChange:this.handleChange}),Object(o.jsx)(y.a,{for:"minAgeLimitYO",children:" All age"}),Object(o.jsx)(S.a,{type:"radio",value:"Y",checked:"Y"===t.minAgeLimit,name:"minAgeLimit",id:"minAgeLimitY",onChange:this.handleChange}),Object(o.jsx)(y.a,{for:"minAgeLimitY",children:" 18 - 44 "}),Object(o.jsx)(S.a,{type:"radio",value:"O",checked:"O"===t.minAgeLimit,name:"minAgeLimit",id:"minAgeLimitO",onChange:this.handleChange}),Object(o.jsx)(y.a,{for:"minAgeLimitO",children:" 45+ "})]})}),Object(o.jsx)(D.a,{className:"submit",color:"primary",children:"Register"})]})})}}]),a}(i.Component));var T=function(e){return Object(o.jsxs)(i.Fragment,{children:[Object(o.jsx)("br",{}),Object(o.jsx)("h5",{children:"About this website ?"}),"When vaccination slots are not available in any location in India, no need to check cowin website again and again for availability. You can add notification for that location here and you will be notified by email when vaccination slots will be available for that location.",Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("h5",{children:"How to use this this website ?"}),"There are two types of notification, by pincode and by district. Enter pincode or select state/district and enter email, minimum age limit then submit. You will get email notification when vaccination slots will be available for that pin/district.",Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("h5",{children:"What is age filter ?"}),"Selecting all age will notify centers with 18+ age and also centers with 45+ age. But selecting 18 - 44 or 45+ alone will notify centers with that age only."]})};a(168);var P=function(){return Object(o.jsxs)(r.a,{children:[Object(o.jsx)(l.a,{children:Object(o.jsx)(d.a,{children:Object(o.jsx)(j,{})})}),Object(o.jsxs)(l.a,{children:[Object(o.jsx)(d.a,{md:6,children:Object(o.jsx)(k,{})}),Object(o.jsx)(d.a,{md:6,children:Object(o.jsx)(T,{})})]}),Object(o.jsx)(l.a,{children:Object(o.jsx)(d.a,{children:Object(o.jsx)(h,{})})})]})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,180)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),i(e),n(e),c(e),s(e)}))};s.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(P,{})}),document.getElementById("root")),F()},60:function(e,t,a){},80:function(e,t,a){}},[[169,1,2]]]);
//# sourceMappingURL=main.113ed473.chunk.js.map